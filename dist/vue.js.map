{"version":3,"file":"vue.js","sources":["../src/observe/index.js","../src/initState.js","../src/init.js","../src/index.js"],"sourcesContent":["export function observe(data){\n\n    //1.判断\n    if(typeof data!='object'||data==null){\n        return data\n    }\n    // 对象\n    return new Observe(data)\n\n}\nclass Observe{\n    constructor(value){\n        this.walk(value) //便利\n    }\n    walk(data){\n        let keys=Object.keys(data)\n        for(let i=0;i<keys.length;i++){\n            //对每个属性进行劫持\n            let key=keys[i]\n            let value=data[key]\n            definRtactive(data,key,value)\n        }\n    }\n}\n//对data里的属性进行劫持\nfunction definRtactive(data,key,value) {\n    observe(value) //递归深度劫持\n    Object.defineProperty(data,key,{\n        get(){\n            console.log('%cindex.js line:29 获取', 'color: #007acc;');\n            return value\n        },\n        set(newValue){\n            console.log('%cindex.js line:33 修改', 'color: #007acc;');\n            if(newValue==value)return value\n            observe(newValue) //深度劫持,将修改过的数据再次进行劫持\n            value=newValue\n        }\n    })\n}","import { observe } from \"./observe/index.js\";\n\nexport function initState(vm){\n    let opts=vm.$options\n    // console.log('%cinitState.js line:3 opts', 'color: #007acc;', opts);\n    //对数据初始化处理\n    if(opts.data){\n        initData(vm)\n    }\n\n\n    function initData(vm){\n        //判断data 是对象/函\n        let data=vm.$options.data\n        data=vm._data=typeof data==='function'?data.call(vm):data \n        //数据劫持 -- vue2数据响应式原理\n        observe(data) //\n        //data{} 对象   数组\n    }\n}","import { initState } from \"./initState.js\"\n\n\nexport function initMixin(Vue){\n    Vue.prototype._init=function(options){\n        \n        let vm=this\n        vm.$options=options\n        // 初始化状态\n        initState(vm)\n    }\n}\n","import { initMixin } from \"./init\"\n\nfunction Vue(options){\n    //初始化\n    this._init(options)\n\n}\ninitMixin(Vue)\nexport default Vue"],"names":[],"mappings":";;;;;;IAAO,SAAS,OAAO,CAAC,IAAI,CAAC;AAC7B;IACA;IACA,IAAI,GAAG,OAAO,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,CAAC;IACzC,QAAQ,OAAO,IAAI;IACnB,KAAK;IACL;IACA,IAAI,OAAO,IAAI,OAAO,CAAC,IAAI,CAAC;AAC5B;IACA,CAAC;IACD,MAAM,OAAO;IACb,IAAI,WAAW,CAAC,KAAK,CAAC;IACtB,QAAQ,IAAI,CAAC,IAAI,CAAC,KAAK,EAAC;IACxB,KAAK;IACL,IAAI,IAAI,CAAC,IAAI,CAAC;IACd,QAAQ,IAAI,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,EAAC;IAClC,QAAQ,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC;IACtC;IACA,YAAY,IAAI,GAAG,CAAC,IAAI,CAAC,CAAC,EAAC;IAC3B,YAAY,IAAI,KAAK,CAAC,IAAI,CAAC,GAAG,EAAC;IAC/B,YAAY,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,EAAC;IACzC,SAAS;IACT,KAAK;IACL,CAAC;IACD;IACA,SAAS,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE;IACvC,IAAI,OAAO,CAAC,KAAK,EAAC;IAClB,IAAI,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC;IACnC,QAAQ,GAAG,EAAE;IACb,YAAY,OAAO,CAAC,GAAG,CAAC,uBAAuB,EAAE,iBAAiB,CAAC,CAAC;IACpE,YAAY,OAAO,KAAK;IACxB,SAAS;IACT,QAAQ,GAAG,CAAC,QAAQ,CAAC;IACrB,YAAY,OAAO,CAAC,GAAG,CAAC,uBAAuB,EAAE,iBAAiB,CAAC,CAAC;IACpE,YAAY,GAAG,QAAQ,EAAE,KAAK,CAAC,OAAO,KAAK;IAC3C,YAAY,OAAO,CAAC,QAAQ,EAAC;IAC7B,YAAY,KAAK,CAAC,SAAQ;IAC1B,SAAS;IACT,KAAK,EAAC;IACN;;ICrCO,SAAS,SAAS,CAAC,EAAE,CAAC;IAC7B,IAAI,IAAI,IAAI,CAAC,EAAE,CAAC,SAAQ;IACxB;IACA;IACA,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;IACjB,QAAQ,QAAQ,CAAC,EAAE,EAAC;IACpB,KAAK;AACL;AACA;IACA,IAAI,SAAS,QAAQ,CAAC,EAAE,CAAC;IACzB;IACA,QAAQ,IAAI,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAC,KAAI;IACjC,QAAQ,IAAI,CAAC,EAAE,CAAC,KAAK,CAAC,OAAO,IAAI,GAAG,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,KAAI;IACjE;IACA,QAAQ,OAAO,CAAC,IAAI,EAAC;IACrB;IACA,KAAK;IACL;;IChBO,SAAS,SAAS,CAAC,GAAG,CAAC;IAC9B,IAAI,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,SAAS,OAAO,CAAC;IACzC;IACA,QAAQ,IAAI,EAAE,CAAC,KAAI;IACnB,QAAQ,EAAE,CAAC,QAAQ,CAAC,QAAO;IAC3B;IACA,QAAQ,SAAS,CAAC,EAAE,EAAC;IACrB,MAAK;IACL;;ICTA,SAAS,GAAG,CAAC,OAAO,CAAC;IACrB;IACA,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,EAAC;AACvB;IACA,CAAC;IACD,SAAS,CAAC,GAAG;;;;;;;;"}